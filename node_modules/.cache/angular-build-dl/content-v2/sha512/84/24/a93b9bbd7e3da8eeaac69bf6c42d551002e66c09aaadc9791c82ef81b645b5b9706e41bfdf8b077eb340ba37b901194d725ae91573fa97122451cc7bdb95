{"version":3,"sources":["webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/default/default.component.ts","webpack:///src/app/default/default.component.html","webpack:///src/app/header/header.component.ts","webpack:///src/app/header/header.component.html","webpack:///src/app/interceptors/auth-interceptor.ts","webpack:///src/app/models/Thing.model.ts","webpack:///src/app/part-four/mime-type.validator.ts","webpack:///src/app/part-four/modify-thing-with-upload/modify-thing-with-upload.component.ts","webpack:///src/app/part-four/modify-thing-with-upload/modify-thing-with-upload.component.html","webpack:///src/app/part-four/new-thing-with-upload/new-thing-with-upload.component.ts","webpack:///src/app/part-four/new-thing-with-upload/new-thing-with-upload.component.html","webpack:///src/app/part-four/part-four.component.ts","webpack:///src/app/part-four/part-four.component.html","webpack:///src/app/part-one/modify-thing/modify-thing.component.ts","webpack:///src/app/part-one/modify-thing/modify-thing.component.html","webpack:///src/app/part-one/new-thing/new-thing.component.ts","webpack:///src/app/part-one/new-thing/new-thing.component.html","webpack:///src/app/part-one/part-one.component.ts","webpack:///src/app/part-one/part-one.component.html","webpack:///src/app/part-one/single-thing/single-thing.component.ts","webpack:///src/app/part-one/single-thing/single-thing.component.html","webpack:///src/app/part-one/stuff-list/stuff-list.component.ts","webpack:///src/app/part-one/stuff-list/stuff-list.component.html","webpack:///src/app/part-three/auth/login/login.component.ts","webpack:///src/app/part-three/auth/login/login.component.html","webpack:///src/app/part-three/auth/signup/signup.component.ts","webpack:///src/app/part-three/auth/signup/signup.component.html","webpack:///src/app/part-three/part-three.component.ts","webpack:///src/app/part-three/part-three.component.html","webpack:///src/app/services/auth-guard.service.ts","webpack:///src/app/services/auth.service.ts","webpack:///src/app/services/state.service.ts","webpack:///src/app/services/stuff.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","component","children","pathMatch","redirectTo","canActivate","AppRoutingModule","forRoot","imports","providers","AppComponent","title","selector","templateUrl","styleUrls","AppModule","provide","useClass","multi","declarations","bootstrap","DefaultComponent","router","endpoint","navigate","onNavigate","HeaderComponent","state","auth","modeSub","mode$","subscribe","mode","partSub","part$","part","partString","isAuthSub","isAuth$","isAuth","logout","unsubscribe","onBackToParts","AuthInterceptor","next","authToken","token","newRequest","clone","headers","set","handle","Thing","mimeType","control","value","file","fileReader","FileReader","frObs","create","observer","addEventListener","arr","Uint8Array","result","subarray","header","isValid","i","length","toString","invalidMimeType","complete","readAsArrayBuffer","ModifyThingWithUploadComponent","formBuilder","stuffService","route","loading","userId","params","getThingById","thing","thingForm","group","required","description","price","image","imageUrl","imagePreview","_id","get","modifyThingWithFile","reset","error","errorMessage","message","event","target","files","console","log","patchValue","updateValueAndValidity","reader","onload","valid","readAsDataURL","NewThingWithUploadComponent","createNewThingWithFile","PartFourComponent","ModifyThingComponent","setValue","Date","getTime","modifyThing","NewThingComponent","createNewThing","PartOneComponent","SingleThingComponent","deleteThing","StuffListComponent","stuff","stuffSub","stuff$","getStuff","LoginComponent","loginForm","email","password","login","SignupComponent","signupForm","createNewUser","PartThreeComponent","AuthGuard","AuthService","http","reject","post","authData","providedIn","StateService","StuffService","emitStuff","response","thingData","FormData","append","JSON","stringify","put","environment","production","bootstrapModule","err"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { PartOneComponent } from './part-one/part-one.component';\r\nimport { PartThreeComponent } from './part-three/part-three.component';\r\nimport { PartFourComponent } from './part-four/part-four.component';\r\nimport { DefaultComponent } from './default/default.component';\r\nimport { StuffListComponent } from './part-one/stuff-list/stuff-list.component';\r\nimport { NewThingComponent } from './part-one/new-thing/new-thing.component';\r\nimport { SingleThingComponent } from './part-one/single-thing/single-thing.component';\r\nimport { ModifyThingComponent } from './part-one/modify-thing/modify-thing.component';\r\nimport { LoginComponent } from './part-three/auth/login/login.component';\r\nimport { SignupComponent } from './part-three/auth/signup/signup.component';\r\nimport { AuthGuard } from './services/auth-guard.service';\r\nimport { NewThingWithUploadComponent } from './part-four/new-thing-with-upload/new-thing-with-upload.component';\r\nimport { ModifyThingWithUploadComponent } from './part-four/modify-thing-with-upload/modify-thing-with-upload.component';\r\n\r\nconst routes: Routes = [\r\n  { path: 'part-one', component: PartOneComponent,\r\n    children: [\r\n      { path: 'new-thing', component: NewThingComponent },\r\n      { path: 'all-stuff', component: StuffListComponent },\r\n      { path: 'thing/:id', component: SingleThingComponent },\r\n      { path: 'modify-thing/:id', component: ModifyThingComponent },\r\n      { path: '', pathMatch: 'full', redirectTo: 'all-stuff' },\r\n      { path: '**', redirectTo: 'all-stuff' }\r\n    ]\r\n  },\r\n  { path: 'part-three', component: PartThreeComponent,\r\n    children: [\r\n      { path: 'new-thing', component: NewThingComponent, canActivate: [AuthGuard] },\r\n      { path: 'all-stuff', component: StuffListComponent, canActivate: [AuthGuard] },\r\n      { path: 'thing/:id', component: SingleThingComponent, canActivate: [AuthGuard] },\r\n      { path: 'modify-thing/:id', component: ModifyThingComponent, canActivate: [AuthGuard] },\r\n      { path: 'auth/login', component: LoginComponent },\r\n      { path: 'auth/signup', component: SignupComponent },\r\n      { path: '', pathMatch: 'full', redirectTo: 'auth/login' },\r\n      { path: '**', redirectTo: 'all-stuff' }\r\n    ]\r\n  },\r\n  { path: 'part-four', component: PartFourComponent,\r\n    children: [\r\n      { path: 'new-thing', component: NewThingWithUploadComponent, canActivate: [AuthGuard] },\r\n      { path: 'all-stuff', component: StuffListComponent, canActivate: [AuthGuard] },\r\n      { path: 'thing/:id', component: SingleThingComponent, canActivate: [AuthGuard] },\r\n      { path: 'modify-thing/:id', component: ModifyThingWithUploadComponent, canActivate: [AuthGuard] },\r\n      { path: 'auth/login', component: LoginComponent },\r\n      { path: 'auth/signup', component: SignupComponent },\r\n      { path: '', pathMatch: 'full', redirectTo: 'auth/login' },\r\n      { path: '**', redirectTo: 'all-stuff' }\r\n    ]\r\n  },\r\n  { path: 'default', component: DefaultComponent },\r\n  { path: '', pathMatch: 'full', component: DefaultComponent },\r\n  { path: '**', redirectTo: '' }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forRoot(routes)\r\n  ],\r\n  exports: [\r\n    RouterModule\r\n  ],\r\n  providers: [\r\n    AuthGuard\r\n  ]\r\n})\r\nexport class AppRoutingModule {}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  title = 'app';\r\n}\r\n","<router-outlet></router-outlet>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { PartOneComponent } from './part-one/part-one.component';\r\nimport { PartThreeComponent } from './part-three/part-three.component';\r\nimport { PartFourComponent } from './part-four/part-four.component';\r\nimport { DefaultComponent } from './default/default.component';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HeaderComponent } from './header/header.component';\r\nimport { StuffListComponent } from './part-one/stuff-list/stuff-list.component';\r\nimport { NewThingComponent } from './part-one/new-thing/new-thing.component';\r\nimport { SingleThingComponent } from './part-one/single-thing/single-thing.component';\r\nimport { ModifyThingComponent } from './part-one/modify-thing/modify-thing.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { LoginComponent } from './part-three/auth/login/login.component';\r\nimport { SignupComponent } from './part-three/auth/signup/signup.component';\r\nimport { NewThingWithUploadComponent } from './part-four/new-thing-with-upload/new-thing-with-upload.component';\r\nimport { ModifyThingWithUploadComponent } from './part-four/modify-thing-with-upload/modify-thing-with-upload.component';\r\nimport { HTTP_INTERCEPTORS, HttpClientModule } from '@angular/common/http';\r\nimport { AuthInterceptor } from './interceptors/auth-interceptor';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    PartOneComponent,\r\n    PartThreeComponent,\r\n    PartFourComponent,\r\n    DefaultComponent,\r\n    HeaderComponent,\r\n    StuffListComponent,\r\n    NewThingComponent,\r\n    SingleThingComponent,\r\n    ModifyThingComponent,\r\n    LoginComponent,\r\n    SignupComponent,\r\n    NewThingWithUploadComponent,\r\n    ModifyThingWithUploadComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    BrowserAnimationsModule,\r\n    MatProgressSpinnerModule,\r\n    HttpClientModule\r\n  ],\r\n  providers: [{provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true}],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-default',\r\n  templateUrl: './default.component.html',\r\n  styleUrls: ['./default.component.scss']\r\n})\r\nexport class DefaultComponent implements OnInit {\r\n\r\n  constructor(private router: Router) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  onNavigate(endpoint: string) {\r\n    this.router.navigate([endpoint]);\r\n  }\r\n}\r\n","<div class=\"main-pane\">\r\n  <h1 class=\"text-center\">Appli front-end - Passez au Full-Stack</h1>\r\n  <div class=\"part-grid\">\r\n    <div class=\"part\" (click)=\"onNavigate('part-one')\">\r\n      <h1>Parties 1+2</h1>\r\n    </div>\r\n    <div class=\"part\" (click)=\"onNavigate('part-three')\">\r\n      <h1>Partie 3</h1>\r\n    </div>\r\n    <div class=\"part\" (click)=\"onNavigate('part-four')\">\r\n      <h1>Partie 4</h1>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { StateService } from '../services/state.service';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.scss']\r\n})\r\nexport class HeaderComponent implements OnInit, OnDestroy {\r\n\r\n  public mode: string;\r\n  public part: number;\r\n  public partString: string;\r\n  public isAuth: boolean;\r\n\r\n  private modeSub: Subscription;\r\n  private partSub: Subscription;\r\n  private isAuthSub: Subscription;\r\n\r\n  constructor(private state: StateService,\r\n              private auth: AuthService,\r\n              private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.modeSub = this.state.mode$.subscribe(\r\n      (mode) => {\r\n        this.mode = mode;\r\n      }\r\n    );\r\n    this.partSub = this.state.part$.subscribe(\r\n      (part) => {\r\n        this.part = part;\r\n        switch (part) {\r\n          case 1:\r\n            this.partString = 'part-one';\r\n            break;\r\n          case 3:\r\n            this.partString = 'part-three';\r\n            break;\r\n          case 4:\r\n            this.partString = 'part-four';\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n    );\r\n    this.isAuthSub = this.auth.isAuth$.subscribe(\r\n      (auth) => {\r\n        this.isAuth = auth;\r\n      }\r\n    );\r\n  }\r\n\r\n  onLogout() {\r\n    this.auth.logout();\r\n    this.router.navigate(['/' + this.partString + '/auth/login']);\r\n  }\r\n\r\n  onBackToParts() {\r\n    this.router.navigate(['/default']);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.modeSub.unsubscribe();\r\n    this.partSub.unsubscribe();\r\n    this.isAuthSub.unsubscribe();\r\n  }\r\n\r\n}\r\n","<header>\r\n  <h1 class=\"header-title\">\r\n    VendreMesObjets\r\n  </h1>\r\n  <ul class=\"header-navigation\">\r\n    <li class=\"header-navigation-item\" *ngIf=\"part === 1 || (part >= 3 && isAuth)\">\r\n      <a class=\"header-link\" routerLink=\"/{{ partString }}/all-stuff\" routerLinkActive=\"active\">OBJETS A VENDRE</a>\r\n    </li>\r\n    <li class=\"header-navigation-item\" *ngIf=\"part === 1 || (part >= 3 && isAuth)\">\r\n      <a class=\"header-link\" routerLink=\"/{{ partString }}/new-thing\" routerLinkActive=\"active\">VENDRE UN OBJET</a>\r\n    </li>\r\n    <li class=\"header-navigation-item\" *ngIf=\"(part >= 3 && isAuth)\">\r\n      <a class=\"header-link\" style=\"cursor: pointer\" (click)=\"onLogout()\">DECONNEXION</a>\r\n    </li>\r\n    <li class=\"header-navigation-item\" *ngIf=\"(part >= 3 && !isAuth)\">\r\n      <a class=\"header-link\" routerLink=\"/{{ partString }}/auth/login\" routerLinkActive=\"active\">CONNEXION</a>\r\n    </li>\r\n    <li class=\"header-navigation-item\" *ngIf=\"(part >= 3 && !isAuth)\">\r\n      <a class=\"header-link\" routerLink=\"/{{ partString }}/auth/signup\" routerLinkActive=\"active\">INSCRIPTION</a>\r\n    </li>\r\n  </ul>\r\n  <ul class=\"header-navigation nav-end\">\r\n    <li class=\"header-navigation-item font-italic\">\r\n      <a class=\"header-link\" style=\"cursor:pointer\" (click)=\"onBackToParts()\">RETOUR A L'INDEX</a>\r\n    </li>\r\n  </ul>\r\n</header>\r\n<div class=\"hero-image\" *ngIf=\"mode === 'list'\">\r\n  <h2 class=\"hero-text\">\r\n    LE MEILLEUR ENDROIT POUR VENDRE VOS OBJETS\r\n  </h2>\r\n</div>\r\n","import { HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { AuthService } from '../services/auth.service';\r\n\r\n@Injectable()\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n\r\n  constructor(private auth: AuthService) {}\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler) {\r\n    const authToken = this.auth.token;\r\n    const newRequest = req.clone({\r\n      headers: req.headers.set('Authorization', 'Bearer ' + authToken)\r\n    });\r\n    return next.handle(newRequest);\r\n  }\r\n}","export class Thing {\r\n  _id: string;\r\n  title: string;\r\n  description: string;\r\n  imageUrl: string;\r\n  price: number;\r\n  userId: string;\r\n}\r\n","import { AbstractControl } from '@angular/forms';\r\nimport { Observable, Observer, of } from 'rxjs';\r\n\r\nexport const mimeType = (\r\n  control: AbstractControl\r\n): Promise<{ [key: string]: any }> | Observable<{ [key: string]: any }> => {\r\n  if ((typeof control.value) === 'string') {\r\n    return of(null);\r\n  }\r\n  const file = control.value as File;\r\n  const fileReader = new FileReader();\r\n  const frObs = Observable.create(\r\n    (observer: Observer<{ [key: string]: any }>) => {\r\n      fileReader.addEventListener('loadend', () => {\r\n        const arr = new Uint8Array(fileReader.result as ArrayBuffer).subarray(0, 4);\r\n        let header = '';\r\n        let isValid = false;\r\n        for (let i = 0; i < arr.length; i++) {\r\n          header += arr[i].toString(16);\r\n        }\r\n        switch (header) {\r\n          case '89504e47':\r\n            isValid = true;\r\n            break;\r\n          case 'ffd8ffe0':\r\n          case 'ffd8ffe1':\r\n          case 'ffd8ffe2':\r\n          case 'ffd8ffe3':\r\n          case 'ffd8ffe8':\r\n            isValid = true;\r\n            break;\r\n          default:\r\n            isValid = false; // Or you can use the blob.type as fallback\r\n            break;\r\n        }\r\n        if (isValid) {\r\n          observer.next(null);\r\n        } else {\r\n          observer.next({ invalidMimeType: true });\r\n        }\r\n        observer.complete();\r\n      });\r\n      fileReader.readAsArrayBuffer(file);\r\n    }\r\n  );\r\n  return frObs;\r\n};\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { StateService } from '../../services/state.service';\r\nimport { StuffService } from '../../services/stuff.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { mimeType } from '../mime-type.validator';\r\nimport { Thing } from '../../models/Thing.model';\r\n\r\n@Component({\r\n  selector: 'app-modify-thing-with-upload',\r\n  templateUrl: './modify-thing-with-upload.component.html',\r\n  styleUrls: ['./modify-thing-with-upload.component.scss']\r\n})\r\nexport class ModifyThingWithUploadComponent implements OnInit {\r\n\r\n  public thingForm: FormGroup;\r\n  public thing: Thing;\r\n  public loading = false;\r\n  public part: number;\r\n  public userId: string;\r\n  public imagePreview: string;\r\n  public errorMessage: string;\r\n\r\n  constructor(private state: StateService,\r\n              private formBuilder: FormBuilder,\r\n              private stuffService: StuffService,\r\n              private route: ActivatedRoute,\r\n              private router: Router,\r\n              private auth: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    this.loading = true;\r\n    this.state.mode$.next('form');\r\n    this.userId = this.auth.userId;\r\n    this.route.params.subscribe(\r\n      (params) => {\r\n        this.stuffService.getThingById(params.id).then(\r\n          (thing: Thing) => {\r\n            this.thing = thing;\r\n            this.thingForm = this.formBuilder.group({\r\n              title: [thing.title, Validators.required],\r\n              description: [thing.description, Validators.required],\r\n              price: [thing.price / 100, Validators.required],\r\n              image: [thing.imageUrl, Validators.required, mimeType]\r\n            });\r\n            this.imagePreview = thing.imageUrl;\r\n            this.loading = false;\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n\r\n  onSubmit() {\r\n    this.loading = true;\r\n    const thing = new Thing();\r\n    thing._id = this.thing._id;\r\n    thing.title = this.thingForm.get('title').value;\r\n    thing.description = this.thingForm.get('description').value;\r\n    thing.price = this.thingForm.get('price').value * 100;\r\n    thing.imageUrl = '';\r\n    thing.userId = this.userId;\r\n    this.stuffService.modifyThingWithFile(this.thing._id, thing, this.thingForm.get('image').value).then(\r\n      () => {\r\n        this.thingForm.reset();\r\n        this.loading = false;\r\n        this.router.navigate(['/part-four/all-stuff']);\r\n      },\r\n      (error) => {\r\n        this.loading = false;\r\n        this.errorMessage = error.message;\r\n      }\r\n    );\r\n  }\r\n\r\n  onImagePick(event: Event) {\r\n    const file = (event.target as HTMLInputElement).files[0];\r\n    console.log(file);\r\n    this.thingForm.get('image').patchValue(file);\r\n    this.thingForm.get('image').updateValueAndValidity();\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n      if (this.thingForm.get('image').valid) {\r\n        this.imagePreview = reader.result as string;\r\n      } else {\r\n        this.imagePreview = null;\r\n      }\r\n    };\r\n    reader.readAsDataURL(file);\r\n  }\r\n}\r\n","<mat-spinner *ngIf=\"loading\"></mat-spinner>\r\n<div *ngIf=\"!loading\" class=\"col-sm-6 offset-sm-3 mt-2\">\r\n  <form [formGroup]=\"thingForm\">\r\n    <div class=\"form-group\">\r\n      <label for=\"title\">Titre</label>\r\n      <input type=\"text\" placeholder=\"Que vendez-vous ?\" id=\"title\" formControlName=\"title\" class=\"form-control\">\r\n    </div>\r\n    <button class=\"btn btn-success\" type=\"button\" (click)=\"filePicker.click()\">Ajouter image</button>\r\n    <input type=\"file\" #filePicker (change)=\"onImagePick($event)\">\r\n    <div class=\"image-preview\" *ngIf=\"imagePreview\">\r\n      <img [src]=\"imagePreview\" alt=\"\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"price\">Prix (en )</label>\r\n      <input type=\"number\" id=\"price\" class=\"form-control\" formControlName=\"price\" min=\"0\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"description\">Description</label>\r\n      <textarea name=\"description\"\r\n                id=\"description\"\r\n                cols=\"30\" rows=\"7\"\r\n                class=\"form-control\"\r\n                formControlName=\"description\"\r\n                placeholder=\"Dcrivez votre objet (type, qualit, etc.)\"></textarea>\r\n    </div>\r\n    <button class=\"btn btn-primary\" (click)=\"onSubmit()\" [disabled]=\"thingForm.invalid\">Valider</button>\r\n    <p class=\"alert-danger\" *ngIf=\"errorMessage\">{{ errorMessage }}</p>\r\n  </form>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { StateService } from '../../services/state.service';\r\nimport { StuffService } from '../../services/stuff.service';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { Thing } from '../../models/Thing.model';\r\nimport { mimeType } from '../mime-type.validator';\r\n\r\n@Component({\r\n  selector: 'app-new-thing-with-upload',\r\n  templateUrl: './new-thing-with-upload.component.html',\r\n  styleUrls: ['./new-thing-with-upload.component.scss']\r\n})\r\nexport class NewThingWithUploadComponent implements OnInit {\r\n\r\n  public thingForm: FormGroup;\r\n  public loading = false;\r\n  public part: number;\r\n  public userId: string;\r\n  public imagePreview: string;\r\n  public errorMessage: string;\r\n\r\n  constructor(private state: StateService,\r\n              private formBuilder: FormBuilder,\r\n              private stuffService: StuffService,\r\n              private router: Router,\r\n              private auth: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    this.state.mode$.next('form');\r\n    this.thingForm = this.formBuilder.group({\r\n      title: [null, Validators.required],\r\n      description: [null, Validators.required],\r\n      price: [0, Validators.required],\r\n      image: [null, Validators.required, mimeType]\r\n    });\r\n    this.userId = this.auth.userId;\r\n  }\r\n\r\n  onSubmit() {\r\n    this.loading = true;\r\n    const thing = new Thing();\r\n    thing.title = this.thingForm.get('title').value;\r\n    thing.description = this.thingForm.get('description').value;\r\n    thing.price = this.thingForm.get('price').value * 100;\r\n    thing.imageUrl = '';\r\n    thing.userId = this.userId;\r\n    this.stuffService.createNewThingWithFile(thing, this.thingForm.get('image').value).then(\r\n      () => {\r\n        this.thingForm.reset();\r\n        this.loading = false;\r\n        this.router.navigate(['/part-four/all-stuff']);\r\n      },\r\n      (error) => {\r\n        this.loading = false;\r\n        this.errorMessage = error.message;\r\n      }\r\n    );\r\n  }\r\n\r\n  onImagePick(event: Event) {\r\n    const file = (event.target as HTMLInputElement).files[0];\r\n    this.thingForm.get('image').patchValue(file);\r\n    this.thingForm.get('image').updateValueAndValidity();\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n      if (this.thingForm.get('image').valid) {\r\n        this.imagePreview = reader.result as string;\r\n      } else {\r\n        this.imagePreview = null;\r\n      }\r\n    };\r\n    reader.readAsDataURL(file);\r\n  }\r\n}\r\n","<mat-spinner *ngIf=\"loading\"></mat-spinner>\r\n<div *ngIf=\"!loading\" class=\"col-sm-6 offset-sm-3 mt-2\">\r\n  <form [formGroup]=\"thingForm\">\r\n    <div class=\"form-group\">\r\n      <label for=\"title\">Titre</label>\r\n      <input type=\"text\" placeholder=\"Que vendez-vous ?\" id=\"title\" formControlName=\"title\" class=\"form-control\">\r\n    </div>\r\n    <button class=\"btn btn-success\" type=\"button\" (click)=\"filePicker.click()\">Ajouter image</button>\r\n    <input type=\"file\" #filePicker (change)=\"onImagePick($event)\">\r\n    <div class=\"image-preview\" *ngIf=\"imagePreview\">\r\n      <img [src]=\"imagePreview\" alt=\"\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"price\">Prix (in )</label>\r\n      <input type=\"number\" id=\"price\" class=\"form-control\" formControlName=\"price\" min=\"0\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"description\">Description</label>\r\n      <textarea name=\"description\"\r\n                id=\"description\"\r\n                cols=\"30\" rows=\"7\"\r\n                class=\"form-control\"\r\n                formControlName=\"description\"\r\n                placeholder=\"Dcrivez votre objet (type, qualit, etc.)\"></textarea>\r\n    </div>\r\n    <button class=\"btn btn-primary\" (click)=\"onSubmit()\" [disabled]=\"thingForm.invalid\">Valider</button>\r\n    <p class=\"alert-danger\" *ngIf=\"errorMessage\">{{ errorMessage }}</p>\r\n  </form>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { StateService } from '../services/state.service';\r\nimport { AuthService } from '../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-part-four',\r\n  templateUrl: './part-four.component.html',\r\n  styleUrls: ['./part-four.component.scss']\r\n})\r\nexport class PartFourComponent implements OnInit, OnDestroy {\r\n\r\n  constructor(private state: StateService,\r\n              private auth: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    this.auth.isAuth$.next(false);\r\n    this.auth.userId = '';\r\n    this.auth.token = '';\r\n    this.state.part$.next(4);\r\n    this.state.part = 4;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n  }\r\n}\r\n","<app-header></app-header>\r\n<router-outlet></router-outlet>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { StateService } from '../../services/state.service';\r\nimport { StuffService } from '../../services/stuff.service';\r\nimport { Thing } from '../../models/Thing.model';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-modify-thing',\r\n  templateUrl: './modify-thing.component.html',\r\n  styleUrls: ['./modify-thing.component.scss']\r\n})\r\nexport class ModifyThingComponent implements OnInit {\r\n\r\n  thing: Thing;\r\n  thingForm: FormGroup;\r\n  loading = false;\r\n  errorMessage: string;\r\n  part: number;\r\n\r\n  private partSub: Subscription;\r\n\r\n  constructor(private formBuilder: FormBuilder,\r\n              private route: ActivatedRoute,\r\n              private router: Router,\r\n              private state: StateService,\r\n              private stuffService: StuffService) { }\r\n\r\n  ngOnInit() {\r\n    this.loading = true;\r\n    this.thingForm = this.formBuilder.group({\r\n      title: [null, Validators.required],\r\n      description: [null, Validators.required],\r\n      price: [0, Validators.required],\r\n      imageUrl: [null, Validators.required]\r\n    });\r\n    this.partSub = this.state.part$.subscribe(\r\n      (part) => {\r\n        this.part = part;\r\n      }\r\n    );\r\n    this.state.mode$.next('form');\r\n    this.route.params.subscribe(\r\n      (params) => {\r\n        this.stuffService.getThingById(params.id).then(\r\n          (thing: Thing) => {\r\n            this.thing = thing;\r\n            this.thingForm.get('title').setValue(this.thing.title);\r\n            this.thingForm.get('description').setValue(this.thing.description);\r\n            this.thingForm.get('price').setValue(this.thing.price / 100);\r\n            this.thingForm.get('imageUrl').setValue(this.thing.imageUrl);\r\n            this.loading = false;\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n\r\n  onSubmit() {\r\n    this.loading = true;\r\n    const thing = new Thing();\r\n    thing.title = this.thingForm.get('title').value;\r\n    thing.description = this.thingForm.get('description').value;\r\n    thing.price = this.thingForm.get('price').value * 100;\r\n    thing.imageUrl = this.thingForm.get('imageUrl').value;\r\n    thing._id = new Date().getTime().toString();\r\n    thing.userId = this.thing.userId;\r\n    this.stuffService.modifyThing(this.thing._id, thing).then(\r\n      () => {\r\n        this.thingForm.reset();\r\n        this.loading = false;\r\n        switch (this.part) {\r\n          case 1:\r\n          case 2:\r\n            this.router.navigate(['/part-one/all-stuff']);\r\n            break;\r\n          case 3:\r\n            this.router.navigate(['/part-three/all-stuff']);\r\n            break;\r\n          case 4:\r\n            this.router.navigate(['/part-four/all-stuff']);\r\n            break;\r\n        }\r\n      },\r\n      (error) => {\r\n        this.loading = false;\r\n        this.errorMessage = error.message;\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<mat-spinner *ngIf=\"loading\"></mat-spinner>\r\n<div *ngIf=\"!loading\" class=\"col-sm-6 offset-sm-3 mt-2\">\r\n  <form [formGroup]=\"thingForm\">\r\n    <div class=\"form-group\">\r\n      <label for=\"title\">Titre</label>\r\n      <input type=\"text\" placeholder=\"Que vendez-vous ?\" id=\"title\" formControlName=\"title\" class=\"form-control\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"price\">Prix (en )</label>\r\n      <input type=\"number\" id=\"price\" class=\"form-control\" formControlName=\"price\" min=\"0\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"description\">Description</label>\r\n      <textarea name=\"description\"\r\n                id=\"description\"\r\n                cols=\"30\" rows=\"7\"\r\n                class=\"form-control\"\r\n                formControlName=\"description\"\r\n                placeholder=\"Dcrivez votre objet (type, qualit, etc.)\"></textarea>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"imageUrl\">URL de l'image</label>\r\n      <input type=\"text\" placeholder=\"http://...\" id=\"imageUrl\" formControlName=\"imageUrl\" class=\"form-control\">\r\n    </div>\r\n    <button class=\"btn btn-success\" (click)=\"onSubmit()\" [disabled]=\"thingForm.invalid\">Valider</button>\r\n    <p class=\"alert-danger\" *ngIf=\"errorMessage\">{{ errorMessage }}</p>\r\n  </form>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { StateService } from '../../services/state.service';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Thing } from '../../models/Thing.model';\r\nimport { StuffService } from '../../services/stuff.service';\r\nimport { Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { AuthService } from '../../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-new-thing',\r\n  templateUrl: './new-thing.component.html',\r\n  styleUrls: ['./new-thing.component.scss']\r\n})\r\nexport class NewThingComponent implements OnInit, OnDestroy {\r\n\r\n  public thingForm: FormGroup;\r\n  public loading = false;\r\n  public part: number;\r\n  public userId: string;\r\n  public errorMessage: string;\r\n\r\n  private partSub: Subscription;\r\n\r\n  constructor(private state: StateService,\r\n              private formBuilder: FormBuilder,\r\n              private stuffService: StuffService,\r\n              private router: Router,\r\n              private auth: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    this.state.mode$.next('form');\r\n    this.thingForm = this.formBuilder.group({\r\n      title: [null, Validators.required],\r\n      description: [null, Validators.required],\r\n      price: [0, Validators.required],\r\n      imageUrl: [null, Validators.required]\r\n    });\r\n    this.partSub = this.state.part$.subscribe(\r\n      (part) => {\r\n        this.part = part;\r\n      }\r\n    );\r\n    this.userId = this.part >= 3 ? this.auth.userId : 'userID40282382';\r\n  }\r\n\r\n  onSubmit() {\r\n    this.loading = true;\r\n    const thing = new Thing();\r\n    thing.title = this.thingForm.get('title').value;\r\n    thing.description = this.thingForm.get('description').value;\r\n    thing.price = this.thingForm.get('price').value * 100;\r\n    thing.imageUrl = this.thingForm.get('imageUrl').value;\r\n    thing._id = new Date().getTime().toString();\r\n    thing.userId = this.userId;\r\n    this.stuffService.createNewThing(thing).then(\r\n      () => {\r\n        this.thingForm.reset();\r\n        this.loading = false;\r\n        switch (this.part) {\r\n          case 1:\r\n          case 2:\r\n            this.router.navigate(['/part-one/all-stuff']);\r\n            break;\r\n          case 3:\r\n            this.router.navigate(['/part-three/all-stuff']);\r\n            break;\r\n          case 4:\r\n            this.router.navigate(['/part-four/all-stuff']);\r\n            break;\r\n        }\r\n      }\r\n    ).catch(\r\n      (error) => {\r\n        this.loading = false;\r\n        this.errorMessage = error.message;\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.partSub.unsubscribe();\r\n  }\r\n\r\n}\r\n","<mat-spinner *ngIf=\"loading\"></mat-spinner>\r\n<div *ngIf=\"!loading\" class=\"col-sm-6 offset-sm-3 mt-2\">\r\n  <form [formGroup]=\"thingForm\">\r\n    <div class=\"form-group\">\r\n      <label for=\"title\">Titre</label>\r\n      <input type=\"text\" placeholder=\"Que vendez-vous ?\" id=\"title\" formControlName=\"title\" class=\"form-control\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"price\">Prix (en )</label>\r\n      <input type=\"number\" id=\"price\" class=\"form-control\" formControlName=\"price\" min=\"0\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"description\">Description</label>\r\n      <textarea name=\"description\"\r\n                id=\"description\"\r\n                cols=\"30\" rows=\"7\"\r\n                class=\"form-control\"\r\n                formControlName=\"description\"\r\n                placeholder=\"Dcrivez votre objet (type, qualit, etc.)\"></textarea>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"imageUrl\">URL de l'image</label>\r\n      <input type=\"text\" placeholder=\"http://...\" id=\"imageUrl\" formControlName=\"imageUrl\" class=\"form-control\">\r\n    </div>\r\n    <button type=\"button\" class=\"btn btn-primary\" (click)=\"onSubmit()\" [disabled]=\"thingForm.invalid\">Valider</button>\r\n    <p class=\"alert-danger\" *ngIf=\"errorMessage\">{{ errorMessage }}</p>\r\n  </form>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { StateService } from '../services/state.service';\r\n\r\n@Component({\r\n  selector: 'app-part-one',\r\n  templateUrl: './part-one.component.html',\r\n  styleUrls: ['./part-one.component.scss']\r\n})\r\nexport class PartOneComponent implements OnInit {\r\n\r\n  constructor(private state: StateService) { }\r\n\r\n  ngOnInit() {\r\n    this.state.part$.next(1);\r\n    this.state.part = 1;\r\n  }\r\n\r\n}\r\n","<app-header></app-header>\r\n<router-outlet></router-outlet>\r\n","import { StateService } from '../../services/state.service';\r\nimport { ActivatedRoute, Params, Router } from '@angular/router';\r\nimport { Thing } from '../../models/Thing.model';\r\nimport { StuffService } from '../../services/stuff.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport {Component, OnDestroy, OnInit} from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: 'app-single-thing',\r\n  templateUrl: './single-thing.component.html',\r\n  styleUrls: ['./single-thing.component.scss']\r\n})\r\nexport class SingleThingComponent implements OnInit, OnDestroy {\r\n\r\n  public thing: Thing;\r\n  public loading: boolean;\r\n  public userId: string;\r\n  public part: number;\r\n\r\n  private partSub: Subscription;\r\n\r\n  constructor(private state: StateService,\r\n              private router: Router,\r\n              private route: ActivatedRoute,\r\n              private stuffService: StuffService,\r\n              private auth: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    this.loading = true;\r\n    this.state.mode$.next('single-thing');\r\n    this.userId = this.auth.userId ? this.auth.userId : 'userID40282382';\r\n    this.route.params.subscribe(\r\n      (params: Params) => {\r\n        this.stuffService.getThingById(params.id).then(\r\n          (thing: Thing) => {\r\n            this.loading = false;\r\n            this.thing = thing;\r\n          }\r\n        );\r\n      }\r\n    );\r\n    this.partSub = this.state.part$.subscribe(\r\n      (part) => {\r\n        this.part = part;\r\n        if (part >= 3) {\r\n          this.userId = this.auth.userId;\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  onGoBack() {\r\n    if (this.part === 1) {\r\n      this.router.navigate(['/part-one/all-stuff']);\r\n    } else if (this.part === 3) {\r\n      this.router.navigate(['/part-three/all-stuff']);\r\n    } else if (this.part === 4) {\r\n      this.router.navigate(['/part-four/all-stuff']);\r\n    }\r\n  }\r\n\r\n  onModify() {\r\n    switch (this.part) {\r\n      case 1:\r\n      case 2:\r\n        this.router.navigate(['/part-one/modify-thing/' + this.thing._id]);\r\n        break;\r\n      case 3:\r\n        this.router.navigate(['/part-three/modify-thing/' + this.thing._id]);\r\n        break;\r\n      case 4:\r\n        this.router.navigate(['/part-four/modify-thing/' + this.thing._id]);\r\n        break;\r\n    }\r\n  }\r\n\r\n  onDelete() {\r\n    this.loading = true;\r\n    this.stuffService.deleteThing(this.thing._id).then(\r\n      () => {\r\n        this.loading = false;\r\n        switch (this.part) {\r\n          case 1:\r\n          case 2:\r\n            this.router.navigate(['/part-one/all-stuff']);\r\n            break;\r\n          case 3:\r\n            this.router.navigate(['/part-three/all-stuff']);\r\n            break;\r\n          case 4:\r\n            this.router.navigate(['/part-four/all-stuff']);\r\n            break;\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.partSub.unsubscribe();\r\n  }\r\n}\r\n","<mat-spinner *ngIf=\"loading\"></mat-spinner>\r\n<div *ngIf=\"!loading\">\r\n  <button class=\"btn btn-link\" (click)=\"onGoBack()\"><< Retour</button>\r\n  <div class=\"single-thing-pane\">\r\n    <img [src]=\"thing?.imageUrl\" alt=\"\">\r\n    <div class=\"single-thing-info\">\r\n      <h1>{{ thing?.title }}</h1>\r\n      <h2 class=\"single-thing-price\">{{ thing?.price/ 100 | currency:'EUR' }}</h2>\r\n      <p>{{ thing?.description }}</p>\r\n      <button class=\"btn btn-success m-1\" (click)=\"onModify()\" [disabled]=\"part >= 3 && userId !== thing?.userId\">Modifier</button>\r\n      <button class=\"btn btn-danger m-1\" (click)=\"onDelete()\" [disabled]=\"part >= 3 && userId !== thing?.userId\">Supprimer</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { StateService } from '../../services/state.service';\r\nimport { StuffService } from '../../services/stuff.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { Thing } from '../../models/Thing.model';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-stuff-list',\r\n  templateUrl: './stuff-list.component.html',\r\n  styleUrls: ['./stuff-list.component.scss']\r\n})\r\nexport class StuffListComponent implements OnInit, OnDestroy {\r\n\r\n  public stuff: Thing[] = [];\r\n  public part: number;\r\n  public loading: boolean;\r\n\r\n  private stuffSub: Subscription;\r\n  private partSub: Subscription;\r\n\r\n  constructor(private state: StateService,\r\n              private stuffService: StuffService,\r\n              private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.loading = true;\r\n    this.state.mode$.next('list');\r\n    this.stuffSub = this.stuffService.stuff$.subscribe(\r\n      (stuff) => {\r\n        this.stuff = stuff;\r\n        this.loading = false;\r\n      }\r\n    );\r\n    this.partSub = this.state.part$.subscribe(\r\n      (part) => {\r\n        this.part = part;\r\n      }\r\n    );\r\n    this.stuffService.getStuff();\r\n  }\r\n\r\n  onProductClicked(id: string) {\r\n    if (this.part === 1) {\r\n      this.router.navigate(['/part-one/thing/' + id]);\r\n    } else if (this.part === 3) {\r\n      this.router.navigate(['/part-three/thing/' + id]);\r\n    } else if (this.part === 4) {\r\n      this.router.navigate(['/part-four/thing/' + id]);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.stuffSub.unsubscribe();\r\n    this.partSub.unsubscribe();\r\n  }\r\n\r\n}\r\n","<mat-spinner *ngIf=\"loading\"></mat-spinner>\r\n<p class=\"text-center\" *ngIf=\"stuff.length <= 0 && !loading\">Rien  vendre !</p>\r\n<div class=\"stuff-grid\" *ngIf=\"stuff.length >= 0\">\r\n  <div class=\"thing-pane\"\r\n       *ngFor=\"let thing of stuff\"\r\n       [ngClass]=\"{'open': thing._id === chosenId}\"\r\n       [ngStyle]=\"{'background-image': 'url(' + thing.imageUrl + ')'}\"\r\n       (click)=\"onProductClicked(thing._id)\">\r\n    <div class=\"thing-info\">\r\n      <h3>\r\n        {{ thing.title }}\r\n      </h3>\r\n      <h5>{{ thing.price / 100 | currency:'EUR' }}</h5>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../../../services/auth.service';\r\nimport { StateService } from '../../../services/state.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  loginForm: FormGroup;\r\n  loading = false;\r\n  errorMessage: string;\r\n\r\n  constructor(private formBuilder: FormBuilder,\r\n              private router: Router,\r\n              private auth: AuthService,\r\n              private state: StateService) { }\r\n\r\n  ngOnInit() {\r\n    this.state.mode$.next('form');\r\n    this.loginForm = this.formBuilder.group({\r\n      email: [null, [Validators.required, Validators.email]],\r\n      password: [null, Validators.required]\r\n    });\r\n  }\r\n\r\n  onLogin() {\r\n    this.loading = true;\r\n    const email = this.loginForm.get('email').value;\r\n    const password = this.loginForm.get('password').value;\r\n    this.auth.login(email, password).then(\r\n      () => {\r\n        this.loading = false;\r\n        if (this.state.part === 3) {\r\n          this.router.navigate(['/part-three/all-stuff']);\r\n        } else if (this.state.part === 4) {\r\n          this.router.navigate(['/part-four/all-stuff']);\r\n        }\r\n      }\r\n    ).catch(\r\n      (error) => {\r\n        this.loading = false;\r\n        this.errorMessage = error.message;\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<mat-spinner *ngIf=\"loading\"></mat-spinner>\r\n<div class=\"col-sm-8 offset-sm-2 mt-2\" *ngIf=\"!loading\">\r\n  <form [formGroup]=\"loginForm\">\r\n    <div class=\"form-group\">\r\n      <label for=\"email\">Adresse mail</label>\r\n      <input type=\"email\" id=\"email\" formControlName=\"email\" class=\"form-control\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"password\">Mot de passe</label>\r\n      <input type=\"password\" id=\"password\" formControlName=\"password\" class=\"form-control\">\r\n    </div>\r\n    <button  type=\"button\" class=\"btn btn-success\" (click)=\"onLogin()\" [disabled]=\"loginForm.invalid\">Connexion</button>\r\n  </form>\r\n  <p>{{ errorMessage }}</p>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../../../services/auth.service';\r\nimport { StateService } from '../../../services/state.service';\r\n\r\n@Component({\r\n  selector: 'app-signup',\r\n  templateUrl: './signup.component.html',\r\n  styleUrls: ['./signup.component.scss']\r\n})\r\nexport class SignupComponent implements OnInit {\r\n\r\n  signupForm: FormGroup;\r\n  loading = false;\r\n  errorMessage: string;\r\n\r\n  constructor(private formBuilder: FormBuilder,\r\n              private router: Router,\r\n              private auth: AuthService,\r\n              private state: StateService) { }\r\n\r\n  ngOnInit() {\r\n    this.state.mode$.next('form');\r\n    this.signupForm = this.formBuilder.group({\r\n      email: [null, [Validators.required, Validators.email]],\r\n      password: [null, Validators.required]\r\n    });\r\n  }\r\n\r\n  onSignup() {\r\n    this.loading = true;\r\n    const email = this.signupForm.get('email').value;\r\n    const password = this.signupForm.get('password').value;\r\n    this.auth.createNewUser(email, password).then(\r\n      () => {\r\n        this.loading = false;\r\n        if (this.state.part === 3) {\r\n          this.router.navigate(['/part-three/all-stuff']);\r\n        } else if (this.state.part === 4) {\r\n          this.router.navigate(['/part-four/all-stuff']);\r\n        }\r\n      }\r\n    ).catch(\r\n      (error) => {\r\n        this.loading = false;\r\n        this.errorMessage = error.message;\r\n      }\r\n    );\r\n  }\r\n}\r\n","<mat-spinner *ngIf=\"loading\"></mat-spinner>\r\n<div class=\"col-sm-8 offset-sm-2 mt-2\" *ngIf=\"!loading\">\r\n  <form [formGroup]=\"signupForm\">\r\n    <div class=\"form-group\">\r\n      <label for=\"email\">Adresse mail</label>\r\n      <input type=\"email\" id=\"email\" formControlName=\"email\" class=\"form-control\">\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"password\">Mot de passe</label>\r\n      <input type=\"password\" id=\"password\" formControlName=\"password\" class=\"form-control\">\r\n    </div>\r\n    <button type=\"button\" class=\"btn btn-success\" (click)=\"onSignup()\" [disabled]=\"signupForm.invalid\">Inscription</button>\r\n  </form>\r\n  <p>{{ errorMessage }}</p>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { StateService } from '../services/state.service';\r\nimport { AuthService } from '../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-part-three',\r\n  templateUrl: './part-three.component.html',\r\n  styleUrls: ['./part-three.component.scss']\r\n})\r\nexport class PartThreeComponent implements OnInit, OnDestroy {\r\n\r\n  constructor(private state: StateService,\r\n              private auth: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    this.auth.isAuth$.next(false);\r\n    this.auth.userId = '';\r\n    this.auth.token = '';\r\n    this.state.part$.next(3);\r\n    this.state.part = 3;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n  }\r\n\r\n}\r\n","<app-header></app-header>\r\n<router-outlet></router-outlet>\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { AuthService } from './auth.service';\r\nimport { Observable } from 'rxjs';\r\nimport { StateService } from './state.service';\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate {\r\n\r\n  constructor(private auth: AuthService,\r\n              private state: StateService,\r\n              private router: Router) {}\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\r\n    return Observable.create(\r\n      (observer) => {\r\n        this.auth.isAuth$.subscribe(\r\n          (auth) => {\r\n            if (!auth) {\r\n              this.state.part$.subscribe(\r\n                (part) => {\r\n                  if (part === 3) {\r\n                    this.router.navigate(['/part-three/auth/login']);\r\n                  } else if (part === 4) {\r\n                    this.router.navigate(['/part-four/auth/login']);\r\n                  }\r\n                }\r\n              );\r\n            }\r\n            observer.next(true);\r\n          }\r\n        );\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n\r\n  isAuth$ = new BehaviorSubject<boolean>(false);\r\n  token: string;\r\n  userId: string;\r\n\r\n  constructor(private router: Router,\r\n              private http: HttpClient) {}\r\n\r\n  createNewUser(email: string, password: string) {\r\n    return new Promise((resolve, reject) => {\r\n      this.http.post(\r\n        'http://localhost:3000/api/auth/signup',\r\n        { email: email, password: password })\r\n        .subscribe(\r\n          () => {\r\n            this.login(email, password).then(\r\n              () => {\r\n                resolve();\r\n              }\r\n            ).catch(\r\n              (error) => {\r\n                reject(error);\r\n              }\r\n            );\r\n          },\r\n          (error) => {\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  login(email: string, password: string) {\r\n    return new Promise((resolve, reject) => {\r\n      this.http.post(\r\n        'http://localhost:3000/api/auth/login',\r\n        { email: email, password: password })\r\n        .subscribe(\r\n          (authData: { token: string, userId: string }) => {\r\n            this.token = authData.token;\r\n            this.userId = authData.userId;\r\n            this.isAuth$.next(true);\r\n            resolve();\r\n          },\r\n          (error) => {\r\n            reject(error);\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    this.isAuth$.next(false);\r\n    this.userId = null;\r\n    this.token = null;\r\n  }\r\n}\r\n","import { BehaviorSubject, Subject } from 'rxjs';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class StateService {\r\n  public part$ = new BehaviorSubject<number>(0);\r\n  public part = 0;\r\n  public mode$ = new BehaviorSubject<string>('');\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { Thing } from '../models/Thing.model';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class StuffService {\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  private stuff: Thing[] = [\r\n    {\r\n      _id: '324sdfmoih3',\r\n      title: 'Mon objet',\r\n      description: 'A propos de mon objet',\r\n      imageUrl: 'https://c.pxhere.com/photos/30/d6/photographer_camera_lens_slr_photography_hands-1079029.jpg!d',\r\n      price: 4900,\r\n      userId: 'will'\r\n    },\r\n    {\r\n      _id: '324sdfmoih4',\r\n      title: 'Un autre objet',\r\n      description: 'A propos de mon autre objet',\r\n      imageUrl: 'https://www.publicdomainpictures.net/pictures/10000/velka/1536-1249273362hbHb.jpg',\r\n      price: 2600,\r\n      userId: 'will'\r\n    },\r\n  ];\r\n  public stuff$ = new Subject<Thing[]>();\r\n\r\n  getStuff() {\r\n    this.http.get('http://localhost:3000/api/stuff').subscribe(\r\n      (stuff: Thing[]) => {\r\n        if (stuff) {\r\n          this.stuff = stuff;\r\n          this.emitStuff();\r\n        }\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  emitStuff() {\r\n    this.stuff$.next(this.stuff);\r\n  }\r\n\r\n  getThingById(id: string) {\r\n    return new Promise((resolve, reject) => {\r\n      this.http.get('http://localhost:3000/api/stuff/' + id).subscribe(\r\n        (response) => {\r\n          resolve(response);\r\n        },\r\n        (error) => {\r\n          reject(error);\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  createNewThing(thing: Thing) {\r\n    return new Promise((resolve, reject) => {\r\n      this.http.post('http://localhost:3000/api/stuff', thing).subscribe(\r\n        (response) => {\r\n          resolve(response);\r\n        },\r\n        (error) => {\r\n          reject(error);\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  createNewThingWithFile(thing: Thing, image: File) {\r\n    return new Promise((resolve, reject) => {\r\n      const thingData = new FormData();\r\n      thingData.append('thing', JSON.stringify(thing));\r\n      thingData.append('image', image, thing.title);\r\n      this.http.post('http://localhost:3000/api/stuff', thingData).subscribe(\r\n        (response) => {\r\n          resolve(response);\r\n        },\r\n        (error) => {\r\n          reject(error);\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  modifyThing(id: string, thing: Thing) {\r\n    return new Promise((resolve, reject) => {\r\n      this.http.put('http://localhost:3000/api/stuff/' + id, thing).subscribe(\r\n        (response) => {\r\n          resolve(response);\r\n        },\r\n        (error) => {\r\n          reject(error);\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  modifyThingWithFile(id: string, thing: Thing, image: File | string) {\r\n    return new Promise((resolve, reject) => {\r\n      let thingData: Thing | FormData;\r\n      if (typeof image === 'string') {\r\n        thing.imageUrl = image;\r\n        thingData = thing;\r\n      } else {\r\n        thingData = new FormData();\r\n        thingData.append('thing', JSON.stringify(thing));\r\n        thingData.append('image', image, thing.title);\r\n      }\r\n      this.http.put('http://localhost:3000/api/stuff/' + id, thingData).subscribe(\r\n        (response) => {\r\n          resolve(response);\r\n        },\r\n        (error) => {\r\n          reject(error);\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  deleteThing(id: string) {\r\n    return new Promise((resolve, reject) => {\r\n      this.http.delete('http://localhost:3000/api/stuff/' + id).subscribe(\r\n        (response) => {\r\n          resolve(response);\r\n        },\r\n        (error) => {\r\n          reject(error);\r\n        }\r\n      );\r\n    });\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * In development mode, to ignore zone related error stack frames such as\r\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\r\n * import the following file, but please comment it out in production mode\r\n * because it will have performance impact when throw error\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n"]}